#!/usr/bin/env python3
"""
Importiert ELWA-Daten, die manuell aus Screenshots extrahiert wurden.
"""

import sqlite3
from pathlib import Path

# Daten aus den Screenshots (manuell extrahiert)
# Format: {' jahr-monat-tag': (energie_kwh, temp1, temp2)}
ELWA_DATA = {
    # Februar 2025 (ca. Werte aus Screenshot abgelesen)
    '2025-02-12': (1.5, 50, 50),
    '2025-02-14': (0.1, 50, 50),
    '2025-02-17': (3.0, 52, 52),
    '2025-02-18': (2.5, 52, 52),
    '2025-02-19': (3.0, 52, 52),
    '2025-02-20': (4.7, 52, 52),
    '2025-02-21': (2.8, 52, 52),
    '2025-02-23': (0.7, 50, 50),
    '2025-02-24': (2.1, 52, 52),
    '2025-02-25': (2.4, 52, 52),
    '2025-02-27': (2.6, 52, 52),
    '2025-02-28': (1.5, 52, 52),

    # März 2025
    '2025-03-01': (3.0, 50, 55),
    '2025-03-02': (8.0, 52, 55),
    '2025-03-03': (5.3, 52, 55),
    '2025-03-04': (3.7, 50, 54),
    '2025-03-05': (2.5, 52, 54),
    '2025-03-06': (2.0, 50, 28),
    '2025-03-07': (2.3, 52, 52),
    '2025-03-08': (1.8, 52, 52),
    '2025-03-09': (3.0, 50, 52),
    '2025-03-10': (0.5, 50, 52),
    '2025-03-11': (3.0, 50, 52),
    '2025-03-12': (0.8, 52, 52),
    '2025-03-13': (1.8, 52, 52),
    '2025-03-14': (3.0, 52, 52),
    '2025-03-15': (0.8, 50, 52),
    '2025-03-16': (1.0, 50, 52),
    '2025-03-17': (2.0, 50, 52),
    '2025-03-18': (2.0, 50, 52),
    '2025-03-19': (2.5, 50, 52),
    '2025-03-20': (1.8, 50, 52),
    '2025-03-21': (1.8, 50, 52),
    '2025-03-22': (4.8, 50, 52),
    '2025-03-23': (0.8, 50, 52),
    '2025-03-24': (1.3, 50, 52),
    '2025-03-25': (2.3, 50, 52),
    '2025-03-26': (3.5, 50, 52),
    '2025-03-27': (2.3, 50, 52),
    '2025-03-28': (6.3, 52, 52),
    '2025-03-29': (5.3, 52, 54),
    '2025-03-30': (1.8, 50, 54),
    '2025-03-31': (1.5, 50, 54),

    # April 2025
    '2025-04-01': (2.5, 52, 54),
    '2025-04-02': (2.3, 52, 54),
    '2025-04-03': (2.7, 52, 54),
    '2025-04-04': (2.3, 52, 54),
    '2025-04-05': (2.5, 52, 54),
    '2025-04-06': (8.0, 50, 54),
    '2025-04-13': (10.5, 50, 54),
    '2025-04-14': (3.7, 50, 54),
    '2025-04-15': (2.7, 50, 54),
    '2025-04-16': (1.3, 50, 54),
    '2025-04-17': (0.8, 50, 54),
    '2025-04-18': (1.8, 50, 54),
    '2025-04-20': (9.0, 50, 54),
    '2025-04-22': (1.7, 50, 54),
    '2025-04-23': (3.5, 50, 54),
    '2025-04-24': (4.0, 50, 54),
    '2025-04-25': (6.7, 52, 55),
    '2025-04-26': (8.5, 52, 55),
    '2025-04-27': (4.0, 52, 55),
    '2025-04-28': (3.5, 52, 55),
    '2025-04-29': (7.0, 52, 55),
    '2025-04-30': (0.2, 52, 55),

    # Mai 2025
    '2025-05-01': (6.5, 52, 55),
    '2025-05-02': (4.5, 50, 56),
    '2025-05-03': (5.7, 48, 56),
    '2025-05-04': (3.5, 50, 56),
    '2025-05-05': (1.5, 50, 54),
    '2025-05-06': (2.5, 50, 54),
    '2025-05-07': (3.3, 52, 54),
    '2025-05-08': (3.3, 52, 54),
    '2025-05-09': (1.4, 52, 54),
    '2025-05-10': (4.8, 52, 54),
    '2025-05-11': (4.6, 52, 54),
    '2025-05-12': (2.6, 52, 54),
    '2025-05-13': (1.5, 52, 54),
    '2025-05-14': (2.8, 52, 54),
    '2025-05-15': (2.5, 52, 54),
    '2025-05-16': (1.7, 52, 54),
    '2025-05-17': (5.5, 54, 56),
    '2025-05-18': (5.0, 56, 56),
    '2025-05-19': (4.7, 52, 54),
    '2025-05-21': (3.0, 52, 54),
    '2025-05-22': (2.8, 52, 54),
    '2025-05-23': (3.7, 52, 54),
    '2025-05-24': (3.0, 52, 54),
    '2025-05-25': (2.9, 52, 54),
    '2025-05-26': (1.7, 52, 54),
    '2025-05-27': (1.2, 52, 54),
    '2025-05-28': (0.4, 52, 54),
    '2025-05-30': (0.8, 52, 54),
    '2025-05-31': (3.2, 52, 54),

    # Juni 2025
    '2025-06-01': (3.7, 48, 56),
    '2025-06-02': (2.0, 48, 56),
    '2025-06-03': (3.7, 50, 58),
    '2025-06-04': (2.3, 50, 58),
    '2025-06-05': (2.0, 50, 58),
    '2025-06-06': (2.5, 50, 60),
    '2025-06-07': (4.0, 50, 60),
    '2025-06-08': (6.2, 52, 60),
    '2025-06-10': (2.2, 52, 60),
    '2025-06-11': (4.2, 50, 60),
    '2025-06-12': (6.5, 52, 60),
    '2025-06-13': (8.5, 56, 62),
    '2025-06-14': (6.5, 58, 62),
    '2025-06-15': (7.8, 56, 60),
    '2025-06-16': (9.3, 54, 60),
    '2025-06-17': (8.3, 56, 62),
    '2025-06-18': (6.5, 60, 62),
    '2025-06-19': (6.7, 58, 60),
    '2025-06-20': (6.8, 56, 60),
    '2025-06-21': (6.5, 60, 62),
    '2025-06-22': (11.7, 58, 62),
    '2025-06-23': (8.0, 60, 62),
    '2025-06-24': (7.5, 58, 60),
    '2025-06-25': (7.0, 54, 60),
    '2025-06-26': (7.0, 50, 60),
    '2025-06-27': (8.5, 52, 60),
    '2025-06-28': (8.8, 54, 62),
    '2025-06-29': (8.8, 60, 62),
    '2025-06-30': (10.0, 48, 60),

    # Juli 2025
    '2025-07-01': (8.0, 56, 60),
    '2025-07-02': (7.8, 56, 60),
    '2025-07-03': (8.0, 58, 62),
    '2025-07-04': (11.0, 58, 62),
    '2025-07-05': (15.5, 56, 60),
    '2025-07-06': (16.8, 40, 56),
    '2025-07-07': (7.0, 50, 60),
    '2025-07-10': (9.8, 64, 62),
    '2025-07-11': (8.5, 56, 60),
    '2025-07-12': (8.0, 56, 58),
    '2025-07-13': (6.5, 50, 58),
    '2025-07-14': (6.5, 52, 58),
    '2025-07-15': (6.5, 54, 58),
    '2025-07-16': (9.5, 54, 60),
    '2025-07-17': (6.5, 56, 60),
    '2025-07-18': (6.5, 50, 58),
    '2025-07-19': (5.5, 40, 60),
    '2025-07-20': (9.5, 46, 60),
    '2025-07-21': (6.3, 52, 60),
    '2025-07-22': (10.7, 50, 60),
    '2025-07-23': (7.0, 50, 60),
    '2025-07-24': (6.8, 50, 60),
    '2025-07-25': (8.0, 50, 60),
    '2025-07-26': (6.5, 40, 58),
    '2025-07-27': (7.0, 46, 60),
    '2025-07-28': (9.8, 50, 60),
    '2025-07-29': (8.0, 50, 58),
    '2025-07-30': (8.0, 48, 60),
    '2025-07-31': (7.8, 52, 60),

    # August 2025
    '2025-08-01': (8.5, 52, 58),
    '2025-08-02': (10.8, 44, 56),
    '2025-08-03': (8.5, 48, 58),
    '2025-08-04': (8.5, 48, 60),
    '2025-08-05': (7.8, 44, 60),
    '2025-08-06': (9.5, 52, 60),
    '2025-08-07': (8.5, 52, 60),
    '2025-08-08': (11.3, 56, 60),
    '2025-08-09': (5.8, 54, 58),
    '2025-08-10': (6.0, 56, 60),
    '2025-08-11': (5.5, 60, 62),
    '2025-08-12': (5.0, 60, 62),
    '2025-08-13': (7.5, 46, 60),
    '2025-08-15': (8.3, 60, 62),
    '2025-08-16': (7.5, 60, 60),
    '2025-08-17': (6.7, 58, 60),
    '2025-08-18': (6.5, 56, 60),
    '2025-08-21': (3.5, 58, 60),
    '2025-08-22': (5.5, 60, 60),
    '2025-08-23': (5.0, 60, 60),
    '2025-08-24': (5.5, 60, 60),
    '2025-08-25': (5.0, 60, 60),
    '2025-08-26': (3.5, 60, 60),
    '2025-08-27': (6.8, 60, 60),
    '2025-08-31': (9.5, 56, 60),

    # September 2025
    '2025-09-01': (9.5, 40, 56),
    '2025-09-02': (8.0, 42, 56),
    '2025-09-03': (12.0, 50, 60),
    '2025-09-04': (6.0, 70, 60),
    '2025-09-05': (8.8, 60, 58),
    '2025-09-06': (13.0, 60, 60),
    '2025-09-08': (5.8, 44, 60),
    '2025-09-11': (7.5, 48, 56),
    '2025-09-12': (11.5, 48, 60),
    '2025-09-13': (4.0, 38, 60),
    '2025-09-14': (6.5, 40, 62),
    '2025-09-15': (12.0, 60, 40),
    '2025-09-16': (7.0, 72, 56),
    '2025-09-17': (10.0, 44, 56),
    '2025-09-18': (6.5, 64, 56),
    '2025-09-19': (10.0, 60, 60),
    '2025-09-20': (9.8, 70, 62),
    '2025-09-21': (5.5, 60, 60),
    '2025-09-25': (5.0, 42, 48),
    '2025-09-26': (4.0, 42, 48),
    '2025-09-27': (4.7, 44, 54),
    '2025-09-28': (5.5, 46, 56),
    '2025-09-29': (6.0, 46, 54),
    '2025-09-30': (5.8, 46, 56),

    # Oktober 2025
    '2025-10-01': (7.0, 50, 60),
    '2025-10-02': (9.8, 52, 60),
    '2025-10-03': (6.5, 56, 60),
    '2025-10-04': (4.8, 52, 60),
    '2025-10-05': (4.0, 42, 50),
    '2025-10-06': (0.5, 42, 48),
    '2025-10-08': (6.8, 46, 52),
    '2025-10-09': (0.5, 44, 52),
    '2025-10-10': (6.3, 48, 56),
    '2025-10-11': (6.0, 56, 58),
    '2025-10-13': (7.8, 46, 54),
    '2025-10-14': (5.5, 48, 56),
    '2025-10-15': (5.8, 50, 60),
    '2025-10-16': (3.5, 46, 58),
    '2025-10-17': (3.7, 48, 60),
    '2025-10-18': (3.5, 50, 60),
    '2025-10-19': (6.0, 46, 56),
    '2025-10-20': (4.5, 44, 54),
    '2025-10-21': (3.0, 48, 56),
    '2025-10-24': (9.0, 44, 54),
    '2025-10-25': (4.5, 42, 54),
    '2025-10-26': (6.7, 46, 58),
    '2025-10-27': (0.8, 48, 56),
    '2025-10-28': (5.0, 48, 54),
    '2025-10-29': (6.8, 50, 56),
    '2025-10-30': (11.0, 48, 60),

    # November 2025
    '2025-11-01': (4.5, 42, 60),
    '2025-11-03': (7.3, 50, 58),
    '2025-11-04': (4.5, 50, 58),
    '2025-11-05': (4.0, 48, 50),
    '2025-11-06': (1.5, 44, 50),
    '2025-11-08': (5.0, 44, 54),
    '2025-11-09': (0.2, 44, 50),
    '2025-11-10': (2.0, 42, 48),
    '2025-11-11': (6.5, 54, 56),
    '2025-11-20': (4.5, 44, 48),
    '2025-11-21': (3.5, 48, 56),
}


def import_data():
    """Importiert die ELWA-Daten in die SQLite-Datenbank."""
    db_path = Path(__file__).parent / "server" / "data" / "haustracker.db"

    print(f"Verbinde mit Datenbank: {db_path}")
    conn = sqlite3.connect(db_path)
    cursor = conn.cursor()

    count = 0
    for date, (energy, temp1, temp2) in sorted(ELWA_DATA.items()):
        try:
            cursor.execute(
                """
                INSERT OR REPLACE INTO elwaReadings
                (date, energyKwh, temp1, temp2, source)
                VALUES (?, ?, ?, ?, 'screenshot')
                """,
                (date, energy, temp1, temp2)
            )
            count += 1
        except Exception as e:
            print(f"Fehler bei {date}: {e}")

    conn.commit()
    conn.close()

    print(f"\n✓ {count} Einträge erfolgreich importiert!")

    return count


if __name__ == "__main__":
    import_data()
