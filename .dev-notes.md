# Entwicklungsnotizen - HausTracker

## Server-Ports (PERSISTENT)

- **Frontend (Vite)**: Port 5273 (HTTPS mit mkcert)
- **Backend (Express)**: Port 3331

## WICHTIG: Server-Neustarts

### ❌ NIEMALS verwenden:
```bash
pkill -f vite
pkill -f tsx
```
**Grund**: Killt ALLE Vite/tsx-Prozesse auf dem System, auch von parallel laufenden Apps!

### ✅ IMMER verwenden:
```bash
# Nur Frontend dieses Projekts killen (Port 5273)
lsof -ti:5273 | xargs kill -9 2>/dev/null

# Nur Backend dieses Projekts killen (Port 3331)
lsof -ti:3331 | xargs kill -9 2>/dev/null

# Dann neu starten
npm run dev:all
```

## SSL/HTTPS Konfiguration

- Verwendet **mkcert** für vertrauenswürdige lokale SSL-Zertifikate
- Zertifikate liegen in `.cert/` (nicht in Git)
- Gültig für: localhost, 192.168.178.29, 10.211.55.2, 127.0.0.1, ::1
- Ablaufdatum: 23. Februar 2028

## Datenbank

- SQLite mit better-sqlite3 (nur im Backend!)
- Pfad: `server/data/haustracker.db`
- WAL-Mode aktiviert für bessere Performance

## ELWA Scheduler

- Automatischer Import täglich um 2:00 Uhr
- Retry-Mechanismus mit exponentiellem Backoff bei Rate-Limiting
- KEINE automatischen Checks beim Serverstart (verhindert Rate-Limiting)
